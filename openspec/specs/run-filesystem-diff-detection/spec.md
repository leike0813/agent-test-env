# run-filesystem-diff-detection Specification

## Purpose
TBD - created by archiving change agent-run-audit-and-trust. Update Purpose after archive.
## Requirements
### Requirement: Pre/post run filesystem snapshots
The system SHALL capture pre-run and post-run filesystem snapshots for run-scope file tracking.

#### Scenario: Snapshots captured around run
- **WHEN** a start invocation begins and later ends
- **THEN** the system stores snapshot data representing filesystem state before and after process execution

### Requirement: Persisted file delta report
The system MUST persist a file delta report listing created, modified, and deleted files detected across snapshots.
The file delta report MUST exclude audit-system fixed artifacts generated by the recorder itself.

#### Scenario: File changes are reported
- **WHEN** the run process creates or updates files in run scope
- **THEN** the final delta report includes those files in the correct created/modified/deleted category

#### Scenario: Audit artifacts are excluded
- **WHEN** the audit system writes metadata or stream log files during a run
- **THEN** those recorder-generated fixed artifact paths are not included in created/modified/deleted entries of the file delta report

